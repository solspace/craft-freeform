$((function(){var a=$("#status-menu-btn"),t=a.data("menubtn");t&&t.setSettings({onOptionSelect:function(t){var e=$(t).data("id"),n=$(t).data("name"),s=$(t).data("color"),r=$("#status-menu-select");$("#statusId").val(e);var i="<span class='status "+s+"'></span>"+Craft.uppercaseFirst(n);a.html(i),r.find("li a.sel").removeClass("sel"),r.find("li a[data-id="+e+"]").addClass("sel")}});var e=$("form#asset_download");$("#content").on({click:function(){var a=$(this).data().assetId;$("input[name=assetId]",e).val(a),e.submit()}},"a[data-asset-id]"),$("canvas[data-image]").each((function(){var a=$(this)[0],t=new window.Image;t.addEventListener("load",(function(){a.getContext("2d").drawImage(t,0,0)})),t.setAttribute("src",$(this).data("image"))}));var n=$(".download-signature-links");$("a[data-type]",n).on("click",(function(){var a=$(this).parents(".signature-wrapper").find("canvas:first")[0],t=$(this).data("type"),e=document.createElement("a");return e.download="signature.".concat(t),e.href=a.toDataURL("image/".concat(t)).replace("image/".concat(t),"image/octet-stream"),e.click(),!1})),$("#export-btn").remove(),$("#delete-button").on("click",(function(){if(confirm(Craft.t("freeform","Are you sure you want to delete this?"))){$(this).attr("disabled",!0).addClass("disabled").text("Deleting...");var a,t,e,n=$(this).data("id");$.ajax({type:"post",url:Craft.getCpUrl("freeform/spam/delete"),dataType:"json",data:(a={id:n},t=Craft.csrfTokenName,e=Craft.csrfTokenValue,t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a),success:function(a){a.success?window.location.href=Craft.getCpUrl("freeform/spam"):console.error("Could not delete spam submission")}})}}))}));