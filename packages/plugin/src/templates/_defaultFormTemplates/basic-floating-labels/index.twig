{# Pull in CSS and field rendering #}
<style>
{% include "freeform/_defaultFormTemplates/basic-floating-labels/_main.css" %}
</style>
{% import "freeform/_defaultFormTemplates/basic-floating-labels/_row.twig" as rowMacro %}

{# Render the opening form tag #}
{{ form.renderTag({
    attributes: {
        row: { class: "freeform-row" },
        success: { class: "freeform-form-success" },
        errors: { class: "freeform-form-errors" },
        "@buttons": {
            container: {},
            column: {},
            buttonWrapper: {},
            submit: {},
            back: {},
            save: {},
        },
        "@fields": {
            input: {
                novalidate: true,
                class: "freeform-input",
            },
            label: { class: "freeform-label" },
            instructions: { class: "freeform-instructions" },
            error: { class: "freeform-errors" },
            ":required": {
                label: {
                    "+class": "freeform-required"
                },
            },
            ":errors": {
                input: {
                    "+class": "is-invalid has-validation"
                },
            },
            "@text, @textarea, @email, @website, @confirm, @regex, @phone, @datetime, @file, @dropdown, @multiple-select, @number, @password, @file-dnd, @signature, @credit-card": {
                container: {
                    "+class": "floating"
                }
            },
            "@group": {
                label: {
                    "+class": "group-label",
                }
            },
            "@signature": {
                input: {
                    "-class": "freeform-input",
                }
            }
        }
    }
}) }}

{# Pull in JS overrides #}
<script>
{% include "freeform/_defaultFormTemplates/basic-floating-labels/_main.js" %}
</script>

{# Success and error message handling for non-AJAX forms #}
{% if not form.settings.ajax %}
    {% if form.submittedSuccessfully %}
        <div{{ form.attributes.success }}>
            <p>{{ form.settings.successMessage | t('freeform') }}</p>
        </div>
    {% endif %}
    {% if form.hasErrors %}
        <div{{ form.attributes.errors }}>
            <p>{{ form.settings.errorMessage | t('freeform') }}</p>

            {% if form.errors|length %}
                <ul>
                    {% for error in form.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
    {% endif %}
{% endif %}

{# Render page tabs if multi-page #}
{% if form.pages|length > 1 %}
    <ul class="freeform-pages">
        {% for page in form.pages %}
            <li {% if form.currentPage.index == page.index %}class="active"{% endif %}>
                {% if form.currentPage.index == page.index %}
                    <b>{{ page.label }}</b>
                {% else %}
                    {{ page.label }}
                {% endif %}
            </li>
        {% endfor %}
    </ul>
{% endif %}

{# Display form field rows and columns #}
{{ rowMacro.render(form.rows, form) }}

{# Render the closing form tag #}
{{ form.renderClosingTag }}